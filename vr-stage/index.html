<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Education VR - KhPI</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script>
        // {once: true} makes sure this only runs on the very first click
        window.addEventListener('click', function() {
            const frontVideo = document.querySelector('#front-mp4');

            if (frontVideo) {
                frontVideo.play();
            }

            const leftVideo = document.querySelector('#left-mp4');

            if (leftVideo) {
                leftVideo.play();
            }

            const rightVideo = document.querySelector('#right-mp4');

            if (rightVideo) {
                rightVideo.play();
            }

            const backVideo = document.querySelector('#back-mp4');

            if (backVideo) {
                backVideo.play();
            }
        }, {
            once: true
        });
    </script>
</head>

<body>
    <a-scene background="color: #0a0a1f">
        <a-assets>
            <video id="front-mp4" src="videos/front.mp4" autoplay loop muted></video>
            <video id="left-mp4" src="videos/left.mp4" autoplay loop muted></video>
            <video id="right-mp4" src="videos/right.mp4" autoplay loop muted></video>
            <video id="back-mp4" src="videos/back.mp4" autoplay loop muted></video>

            <img id="scene-img" crossorigin="anonymous" src="images/city.jpg">
        </a-assets>

        <!-- Sky -->
        <a-sky id="image-360" radius="10" src="#scene-img" animation__fade="property: components.material.material.color; type: color; from: #FFF; to: #000; dur: 300; startEvents: fade" animation__fadeback="property: components.material.material.color; type: color; from: #000; to: #FFF; dur: 300; startEvents: animationcomplete__fade">
        </a-sky>

        <!-- Camera -->
        <a-camera position="0 1.6 0" look-controls></a-camera>

        <!-- FRONT -->
        <a-entity position="0 2 -7">
            <a-video src="#front-mp4" width="10" height="6" position="0 0 0"></a-video>
        </a-entity>

        <!-- LEFT -->
        <a-entity position="-7 2 0" rotation="0 90 0">
            <a-video src="#left-mp4" width="10" height="6" position="0 0 0"></a-video>
        </a-entity>

        <!-- RIGHT -->
        <a-entity position="7 2 0" rotation="0 -90 0">
            <a-video src="#right-mp4" width="10" height="6" position="0 0 0"></a-video>
        </a-entity>

        <!-- BACK -->
        <a-entity position="0 2 7" rotation="0 180 0">
            <a-video src="#back-mp4" width="10" height="6" position="0 0 0"></a-video>
        </a-entity>

        <!-- Light -->
        <a-light type="ambient" color="#1a1a2e" intensity="0.5"></a-light>
        <a-light type="point" position="0 4 0" color="#ffffff" intensity="0.2"></a-light>
    </a-scene>
</body>

</html>